# 设计一致性哈希

> 为了实现横向扩展，有效且均匀地将请求/数据分布在服务器上非常重要。一致性哈希是一种常用的技术，用于实现这个目标。但首先，让我们深入研究一下这个问题。

## 重新哈希问题

如果您有n个缓存服务器，一种常见的平衡负载的方法是使用以下哈希方法：
`serverIndex = hash(key) % N`，其中N是服务器池的大小。

让我们用一个例子来说明它是如何工作的。如表5-1所示，我们有4个服务器和8个字符串键及其哈希值。

|key|hash |hash%4|
|-|-|-|
|key0|18358617|1|
|key1|26143584|0|
|key2|18131146|2|
|key3|35863496|0|
